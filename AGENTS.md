# Repository Guidelines

## Project Structure & Module Organization
`src/` holds the core TypeScript renderer (math, geometry, buffers, camera, SDF, etc.). `dev/` contains the Vite dev server, demo panels, and dev-only utilities/tests. `dist/` is the published library build output (ESM/CJS/types) generated by `tsup`, and `dist-demo/` is the demo build output generated by `vite build`—do not edit either by hand. Documentation and planning live at the root (`README.md`, `ROADMAP.md`) with supporting material in `docs/`.

## Build, Test, and Development Commands
- `npm install`: install dependencies.
- `npm run dev`: start the Vite dev server with hot reload for demos.
- `npm run build`: bundle the library to `dist/` via `tsup`.
- `npm run build:demo`: produce a static demo build in `dist-demo/`.
- `npm run typecheck`: run `tsc --noEmit` using the repo’s strict TS config.
- `npm test`: run Vitest once (CI-style).
- `npm run test:watch`: watch mode for local iteration.

## Coding Style & Naming Conventions
Code is TypeScript with ES modules (`"type": "module"`). Indentation is 2 spaces, and files follow the existing style rather than an enforced formatter (no ESLint/Prettier config is present). Use `PascalCase` for classes (e.g., `Camera`), `camelCase` for functions/locals, and `UPPER_SNAKE_CASE` for constants (e.g., `TILE_SIZE`). Test files use `*.test.ts` and live alongside the code they cover.

## Testing Guidelines
Vitest is configured in `vitest.config.ts` and includes tests in `src/**/*.test.ts` and `dev/**/*.test.ts`, with shared setup in `vitest.setup.ts`. Add or update tests when changing geometry, math, or rendering behavior, and prefer lightweight fixtures over large assets.

## Commit & Pull Request Guidelines
Commit messages in this repo are short, imperative, and capitalized (e.g., “Add terrain preview panel”). Keep commits scoped to a single logical change. For pull requests, include a brief summary, the tests you ran (e.g., `npm test`), and screenshots/GIFs for visual changes to demos or rendering output. Link related issues or roadmap items when applicable.
